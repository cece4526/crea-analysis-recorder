{% extends 'base.html.twig' %}

{% block title %}{{ process_type|title }} - OF {{ of_id }}{% endblock %}

{% block body %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        üîß {{ process_type|title }} - OF N¬∞ {{ of_id }}
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üìä Informations G√©n√©rales</h5>
                            <table class="table table-sm">
                                <tr>
                                    <td><strong>D√©marr√© le :</strong></td>
                                    <td>{{ process_data.started_at|date('d/m/Y H:i') }}</td>
                                </tr>
                                <tr>
                                    <td><strong>Fin estim√©e :</strong></td>
                                    <td>{{ process_data.estimated_completion|date('d/m/Y H:i') }}</td>
                                </tr>
                                <tr>
                                    <td><strong>Op√©rateur :</strong></td>
                                    <td>{{ process_data.operator }}</td>
                                </tr>
                            </table>
                        </div>
                        
                        <div class="col-md-6">
                            <h5>‚öôÔ∏è Param√®tres de Process</h5>
                            <table class="table table-sm">
                                {% for param, value in process_data.parameters %}
                                <tr>
                                    <td><strong>{{ param|replace({'_': ' '})|title }} :</strong></td>
                                    <td>
                                        <span class="badge bg-info">{{ value }}</span>
                                    </td>
                                </tr>
                                {% endfor %}
                            </table>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <h5>üìà √âvolution Temps R√©el</h5>
                            <div class="progress mb-3">
                                <div class="progress-bar bg-success" role="progressbar" style="width: {{ random(30, 85) }}%">
                                    {{ random(30, 85) }}% Compl√©t√©
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4">
                        <a href="{{ path('cereales_dashboard') }}" class="btn btn-secondary">
                            ‚Üê Retour au Dashboard
                        </a>
                        <button class="btn btn-success" onclick="updateProcess()">
                            üîÑ Rafra√Æchir
                        </button>
                        <button class="btn btn-warning">
                            ‚ö†Ô∏è Signaler Probl√®me
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function updateProcess() {
    // Simulation de mise √† jour
    location.reload();
}
</script>
{% endblock %}
